import{List}from"../utils/List.js";function getFirstMatchNode(t){return"node"in t?t.node:getFirstMatchNode(t.match[0])}function getLastMatchNode(t){return"node"in t?t.node:getLastMatchNode(t.match[t.match.length-1])}export function matchFragments(t,n,a,e,o){const c=[];return null!==a.matched&&function a(s){if(null!==s.syntax&&s.syntax.type===e&&s.syntax.name===o){const a=getFirstMatchNode(s),e=getLastMatchNode(s);t.syntax.walk(n,function(t,n,o){if(t===a){const t=new List;do{if(t.appendData(n.data),n.data===e)break;n=n.next}while(null!==n);c.push({parent:o,nodes:t})}})}Array.isArray(s.match)&&s.match.forEach(a)}(a.matched),c}