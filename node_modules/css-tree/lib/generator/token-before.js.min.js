import{WhiteSpace,Delim,Ident,Function as FunctionToken,Url,BadUrl,AtKeyword,Hash,Percentage,Dimension,Number as NumberToken,String as StringToken,Colon,LeftParenthesis,RightParenthesis,CDC}from"../tokenizer/index.js";const PLUSSIGN=43,HYPHENMINUS=45,code=(e,n)=>{if(e===Delim&&(e=n),"string"==typeof e){const n=e.charCodeAt(0);return n>127?32768:n<<8}return e},specPairs=[[Ident,Ident],[Ident,FunctionToken],[Ident,Url],[Ident,BadUrl],[Ident,"-"],[Ident,NumberToken],[Ident,Percentage],[Ident,Dimension],[Ident,CDC],[Ident,LeftParenthesis],[AtKeyword,Ident],[AtKeyword,FunctionToken],[AtKeyword,Url],[AtKeyword,BadUrl],[AtKeyword,"-"],[AtKeyword,NumberToken],[AtKeyword,Percentage],[AtKeyword,Dimension],[AtKeyword,CDC],[Hash,Ident],[Hash,FunctionToken],[Hash,Url],[Hash,BadUrl],[Hash,"-"],[Hash,NumberToken],[Hash,Percentage],[Hash,Dimension],[Hash,CDC],[Dimension,Ident],[Dimension,FunctionToken],[Dimension,Url],[Dimension,BadUrl],[Dimension,"-"],[Dimension,NumberToken],[Dimension,Percentage],[Dimension,Dimension],[Dimension,CDC],["#",Ident],["#",FunctionToken],["#",Url],["#",BadUrl],["#","-"],["#",NumberToken],["#",Percentage],["#",Dimension],["#",CDC],["-",Ident],["-",FunctionToken],["-",Url],["-",BadUrl],["-","-"],["-",NumberToken],["-",Percentage],["-",Dimension],["-",CDC],[NumberToken,Ident],[NumberToken,FunctionToken],[NumberToken,Url],[NumberToken,BadUrl],[NumberToken,NumberToken],[NumberToken,Percentage],[NumberToken,Dimension],[NumberToken,"%"],[NumberToken,CDC],["@",Ident],["@",FunctionToken],["@",Url],["@",BadUrl],["@","-"],["@",CDC],[".",NumberToken],[".",Percentage],[".",Dimension],["+",NumberToken],["+",Percentage],["+",Dimension],["/","*"]],safePairs=specPairs.concat([[Ident,Hash],[Dimension,Hash],[Hash,Hash],[AtKeyword,LeftParenthesis],[AtKeyword,StringToken],[AtKeyword,Colon],[Percentage,Percentage],[Percentage,Dimension],[Percentage,FunctionToken],[Percentage,"-"],[RightParenthesis,Ident],[RightParenthesis,FunctionToken],[RightParenthesis,Percentage],[RightParenthesis,Dimension],[RightParenthesis,Hash],[RightParenthesis,"-"]]);function createMap(e){const n=new Set(e.map(([e,n])=>code(e)<<16|code(n)));return function(e,t,o){const r=code(t,o),i=o.charCodeAt(0);return(45===i&&t!==Ident&&t!==FunctionToken&&t!==CDC||43===i?n.has(e<<16|i<<8):n.has(e<<16|r))&&this.emit(" ",WhiteSpace,!0),r}}export const spec=createMap(specPairs);export const safe=createMap(safePairs);