import{AST_Array,AST_Atom,AST_Await,AST_BigInt,AST_Binary,AST_Block,AST_Call,AST_Catch,AST_Chain,AST_Class,AST_ClassProperty,AST_ClassPrivateProperty,AST_ConciseMethod,AST_Conditional,AST_Debugger,AST_DefinitionsLike,AST_Destructuring,AST_Directive,AST_Do,AST_Dot,AST_DotHash,AST_EmptyStatement,AST_Expansion,AST_Export,AST_Finally,AST_For,AST_ForIn,AST_ForOf,AST_If,AST_Import,AST_ImportMeta,AST_Jump,AST_LabeledStatement,AST_Lambda,AST_LoopControl,AST_NameMapping,AST_NewTarget,AST_Node,AST_Number,AST_Object,AST_ObjectGetter,AST_ObjectKeyVal,AST_ObjectProperty,AST_ObjectSetter,AST_PrefixedTemplateString,AST_PrivateIn,AST_PrivateMethod,AST_PropAccess,AST_RegExp,AST_Sequence,AST_SimpleStatement,AST_String,AST_Super,AST_Switch,AST_SwitchBranch,AST_Symbol,AST_TemplateSegment,AST_TemplateString,AST_This,AST_Toplevel,AST_Try,AST_Unary,AST_VarDefLike,AST_While,AST_With,AST_Yield}from"./ast.js";const shallow_cmp=(t,o)=>null===t&&null===o||t.TYPE===o.TYPE&&t.shallow_cmp(o);export const equivalent_to=(t,o)=>{if(!shallow_cmp(t,o))return!1;const e=[t],p=[o],r=e.push.bind(e),l=p.push.bind(p);for(;e.length&&p.length;){const t=e.pop(),o=p.pop();if(!shallow_cmp(t,o))return!1;if(t._children_backwards(r),o._children_backwards(l),e.length!==p.length)return!1}return 0==e.length&&0==p.length};const pass_through=()=>!0;AST_Node.prototype.shallow_cmp=function(){throw new Error("did not find a shallow_cmp function for "+this.constructor.name)},AST_Debugger.prototype.shallow_cmp=pass_through,AST_Directive.prototype.shallow_cmp=function(t){return this.value===t.value},AST_SimpleStatement.prototype.shallow_cmp=pass_through,AST_Block.prototype.shallow_cmp=pass_through,AST_EmptyStatement.prototype.shallow_cmp=pass_through,AST_LabeledStatement.prototype.shallow_cmp=function(t){return this.label.name===t.label.name},AST_Do.prototype.shallow_cmp=pass_through,AST_While.prototype.shallow_cmp=pass_through,AST_For.prototype.shallow_cmp=function(t){return(null==this.init?null==t.init:this.init===t.init)&&(null==this.condition?null==t.condition:this.condition===t.condition)&&(null==this.step?null==t.step:this.step===t.step)},AST_ForIn.prototype.shallow_cmp=pass_through,AST_ForOf.prototype.shallow_cmp=pass_through,AST_With.prototype.shallow_cmp=pass_through,AST_Toplevel.prototype.shallow_cmp=pass_through,AST_Expansion.prototype.shallow_cmp=pass_through,AST_Lambda.prototype.shallow_cmp=function(t){return this.is_generator===t.is_generator&&this.async===t.async},AST_Destructuring.prototype.shallow_cmp=function(t){return this.is_array===t.is_array},AST_PrefixedTemplateString.prototype.shallow_cmp=pass_through,AST_TemplateString.prototype.shallow_cmp=pass_through,AST_TemplateSegment.prototype.shallow_cmp=function(t){return this.value===t.value},AST_Jump.prototype.shallow_cmp=pass_through,AST_LoopControl.prototype.shallow_cmp=pass_through,AST_Await.prototype.shallow_cmp=pass_through,AST_Yield.prototype.shallow_cmp=function(t){return this.is_star===t.is_star},AST_If.prototype.shallow_cmp=function(t){return null==this.alternative?null==t.alternative:this.alternative===t.alternative},AST_Switch.prototype.shallow_cmp=pass_through,AST_SwitchBranch.prototype.shallow_cmp=pass_through,AST_Try.prototype.shallow_cmp=function(t){return this.body===t.body&&(null==this.bcatch?null==t.bcatch:this.bcatch===t.bcatch)&&(null==this.bfinally?null==t.bfinally:this.bfinally===t.bfinally)},AST_Catch.prototype.shallow_cmp=function(t){return null==this.argname?null==t.argname:this.argname===t.argname},AST_Finally.prototype.shallow_cmp=pass_through,AST_DefinitionsLike.prototype.shallow_cmp=pass_through,AST_VarDefLike.prototype.shallow_cmp=function(t){return null==this.value?null==t.value:this.value===t.value},AST_NameMapping.prototype.shallow_cmp=pass_through,AST_Import.prototype.shallow_cmp=function(t){return(null==this.imported_name?null==t.imported_name:this.imported_name===t.imported_name)&&(null==this.imported_names?null==t.imported_names:this.imported_names===t.imported_names)&&(null==this.attributes?null==t.attributes:this.attributes===t.attributes)},AST_ImportMeta.prototype.shallow_cmp=pass_through,AST_Export.prototype.shallow_cmp=function(t){return(null==this.exported_definition?null==t.exported_definition:this.exported_definition===t.exported_definition)&&(null==this.exported_value?null==t.exported_value:this.exported_value===t.exported_value)&&(null==this.exported_names?null==t.exported_names:this.exported_names===t.exported_names)&&(null==this.attributes?null==t.attributes:this.attributes===t.attributes)&&this.module_name===t.module_name&&this.is_default===t.is_default},AST_Call.prototype.shallow_cmp=pass_through,AST_Sequence.prototype.shallow_cmp=pass_through,AST_PropAccess.prototype.shallow_cmp=pass_through,AST_Chain.prototype.shallow_cmp=pass_through,AST_Dot.prototype.shallow_cmp=function(t){return this.property===t.property},AST_DotHash.prototype.shallow_cmp=function(t){return this.property===t.property},AST_Unary.prototype.shallow_cmp=function(t){return this.operator===t.operator},AST_Binary.prototype.shallow_cmp=function(t){return this.operator===t.operator},AST_PrivateIn.prototype.shallow_cmp=pass_through,AST_Conditional.prototype.shallow_cmp=pass_through,AST_Array.prototype.shallow_cmp=pass_through,AST_Object.prototype.shallow_cmp=pass_through,AST_ObjectProperty.prototype.shallow_cmp=pass_through,AST_ObjectKeyVal.prototype.shallow_cmp=function(t){return this.key===t.key&&this.quote===t.quote},AST_ObjectSetter.prototype.shallow_cmp=function(t){return this.static===t.static},AST_ObjectGetter.prototype.shallow_cmp=function(t){return this.static===t.static},AST_ConciseMethod.prototype.shallow_cmp=function(t){return this.static===t.static},AST_PrivateMethod.prototype.shallow_cmp=function(t){return this.static===t.static},AST_Class.prototype.shallow_cmp=function(t){return(null==this.name?null==t.name:this.name===t.name)&&(null==this.extends?null==t.extends:this.extends===t.extends)},AST_ClassProperty.prototype.shallow_cmp=function(t){return this.static===t.static&&("string"!=typeof this.key||this.key===t.key)},AST_ClassPrivateProperty.prototype.shallow_cmp=function(t){return this.static===t.static},AST_Symbol.prototype.shallow_cmp=function(t){return this.name===t.name},AST_NewTarget.prototype.shallow_cmp=pass_through,AST_This.prototype.shallow_cmp=pass_through,AST_Super.prototype.shallow_cmp=pass_through,AST_String.prototype.shallow_cmp=function(t){return this.value===t.value},AST_Number.prototype.shallow_cmp=function(t){return this.value===t.value},AST_BigInt.prototype.shallow_cmp=function(t){return this.value===t.value},AST_RegExp.prototype.shallow_cmp=function(t){return this.value.flags===t.value.flags&&this.value.source===t.value.source},AST_Atom.prototype.shallow_cmp=pass_through;