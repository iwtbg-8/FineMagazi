const PRECACHE="precache-v1",RUNTIME="runtime",PRECACHE_URLS=["/","/index.html","/style.css","/script.js"];function staleWhileRevalidate(e){return caches.open(RUNTIME).then(t=>t.match(e).then(n=>fetch(e).then(n=>(t.put(e,n.clone()),n)).catch(()=>n)))}self.addEventListener("install",e=>{self.skipWaiting(),e.waitUntil(caches.open(PRECACHE).then(e=>e.addAll(PRECACHE_URLS)))}),self.addEventListener("activate",e=>{e.waitUntil(self.clients.claim())}),self.addEventListener("fetch",e=>{const t=e.request;"navigate"!==t.mode&&"document"!==t.destination?["style","script","image","font"].includes(t.destination)?e.respondWith(staleWhileRevalidate(t)):e.respondWith(caches.match(t).then(e=>e||fetch(t))):e.respondWith(fetch(t).then(e=>(caches.open(RUNTIME).then(n=>n.put(t,e.clone())),e)).catch(()=>caches.match(t)))});